<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>chart.js</title>
<head>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
</head>
<body>
	<div class="chart-container" style="position: relative; height:90vh; width:90vw; margin: auto;">
		<canvas id="myChart"></canvas>
	</div>

  <script>
	var ctx = document.getElementById('myChart');
	var time_tick = 0
	var data_num = 30
	  
	var config = {
		type: 'line',
		data: {
			labels: [ // Date Objects
				//'data1'
			],
			datasets: [{
				label: 'My First dataset',
				backgroundColor: 'rgba(75, 192, 192, 1)',
				borderColor: 'rgba(75, 192, 192, 1)',
				fill: false,
				data: [
					//Math.floor(Math.random() * 50)
				],
			}]
		},
		options: {
			maintainAspectRatio: false,
			title: {
				text: 'Chart.js Time Scale'
			},
			scales: {
				yAxes: [{
					scaleLabel: {
						display: true,
						labelString: '차트'
					}
				}]
			},
		}
	};
	 
	//차트 그리기
	var myChart = new Chart(ctx, config);
	  
	//데이터 추가
	setInterval(function(){
		
		//라벨추가
		config.data.labels.push('data' + time_tick++)
		
		//데이터셋 수 만큼 반복
		var dataset = config.data.datasets;
		for(var i=0; i<dataset.length; i++){
			//데이터셋의 데이터 추가
			dataset[i].data.push(Math.floor(Math.random() * 50));
		}
		if ( config.data.labels.length > data_num ) {
		  config.data.labels.shift()
		  for(var i=0; i<dataset.length; i++){
		    dataset[i].data.shift()
		  }
		}
		myChart.update();	//차트 업데이트
	}, 1000)
	
  </script>
</body>
</html>